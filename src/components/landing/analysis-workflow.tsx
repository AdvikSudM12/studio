import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from '@/components/ui/accordion';
import { Section } from './section';

const workflowSteps = [
  {
    step: 1,
    title: 'Определение задачи и границ системы',
    description:
      'Формулировка целей и задач анализа, определение границ системы и выявление ключевых проблем.',
    problems: [
      'Нечеткие требования от заказчиков.',
      'Сложность определения границ системы.',
      'Ограниченный доступ к информации.',
    ],
    aiSolution:
      'ИИ анализирует тексты (NLP) для выделения целей, алгоритмы кластеризации помогают определить границы, а чат-боты собирают недостающую информацию.',
  },
  {
    step: 2,
    title: 'Сбор данных',
    description:
      'Сбор данных из различных источников: интервью, БД, ERP/CRM, IoT и др., обеспечивая их релевантность и качество.',
    problems: [
      'Разрозненные источники и форматы данных.',
      'Низкое качество данных (ошибки, дубликаты).',
      'Большой объем информации и субъективность.',
    ],
    aiSolution:
      'ИИ-инструменты для ETL-процессов автоматизируют сбор, алгоритмы очистки исправляют ошибки, а NLP анализирует большие объемы текста.',
  },
  {
    step: 3,
    title: 'Подготовка данных',
    description:
      'Очистка данных от ошибок, нормализация в единый формат и подготовка к анализу (агрегация, фильтрация).',
    problems: [
      'Трудоемкость процесса.',
      'Ошибки при ручной обработке.',
      'Сложность работы с неструктурированными данными.',
    ],
    aiSolution:
      'ИИ автоматизирует очистку данных, ускоряет нормализацию и преобразует неструктурированные данные (тексты, изображения) в нужный формат.',
  },
  {
    step: 4,
    title: 'Анализ данных',
    description:
      'Изучение взаимосвязей, выявление трендов и узких мест, построение моделей системы (UML, ER, DFD).',
    problems: [
      'Сложность интерпретации данных.',
      'Ограниченные аналитические навыки.',
      'Значительные временные ограничения.',
    ],
    aiSolution:
      'ИИ-алгоритмы (кластеризация, регрессия) автоматически выявляют закономерности, а инструменты AutoML упрощают анализ для неспециалистов.',
  },
  {
    step: 5,
    title: 'Формирование выводов и рекомендаций',
    description:
      'На основе анализа формулируются выводы, рекомендации по оптимизации и готовится отчет для стейкхолдеров.',
    problems: [
      'Сложность обоснования рекомендаций.',
      'Конфликт интересов стейкхолдеров.',
      'Недостаточная наглядность данных.',
    ],
    aiSolution:
      'ИИ-инструменты для визуализации создают интерактивные отчеты, анализ сценариев "what-if" помогает обосновать рекомендации.',
  },
  {
    step: 6,
    title: 'Структурирование системы',
    description:
      'Разработка структурной модели системы: подсистемы, элементы, архитектура, функционал каждого уровня.',
    problems: [
      'Сложность моделирования.',
      'Риск ошибок в архитектуре.',
      'Длительность ручного создания диаграмм.',
    ],
    aiSolution:
      'ИИ-инструменты автоматически генерируют UML-диаграммы из описаний, проверяют архитектуру на ошибки и ускоряют моделирование.',
  },
  {
    step: 7,
    title: 'Создание дашбордов',
    description:
      'Разработка визуальных панелей для отображения ключевых метрик с помощью BI-инструментов с поддержкой AI.',
    problems: [
      'Сложность выбора релевантных метрик.',
      'Технические ограничения BI-инструментов.',
      'Трудности с обновлением данных в реальном времени.',
    ],
    aiSolution:
      'ИИ предлагает релевантные метрики, BI-инструменты с AI автоматически создают интерактивные дашборды с предиктивной аналитикой.',
  },
  {
    step: 8,
    title: 'Разработка схем',
    description:
      'Создание процессных схем (DFD, BPMN) и UML-диаграмм для формализации требований и архитектуры.',
    problems: [
      'Сложность формализации процессов.',
      'Риск ошибок в схемах.',
      'Высокие временные затраты на ручное создание.',
    ],
    aiSolution:
      'ИИ-инструменты генерируют схемы (BPMN, DFD, UML) из текста, проверяют их на логические ошибки и ускоряют процесс с помощью шаблонов.',
  },
];

export const AnalysisWorkflow = () => {
  return (
    <Section>
      <div className="text-center mb-12">
        <h2 className="text-3xl md:text-4xl font-bold">
          Воркфлоу системного анализа с AI
        </h2>
        <p className="text-lg text-muted-foreground mt-2 max-w-3xl mx-auto">
          Наш пошаговый подход к анализу и оптимизации бизнес-систем, усиленный
          искусственным интеллектом на каждом этапе.
        </p>
      </div>
      <Accordion type="single" collapsible className="w-full">
        {workflowSteps.map((item) => (
          <AccordionItem value={`item-${item.step}`} key={item.step}>
            <AccordionTrigger className="text-left text-lg hover:no-underline">
              {item.title}
            </AccordionTrigger>
            <AccordionContent>
              <p className="text-base text-muted-foreground mb-4">
                {item.description}
              </p>
              <div className="grid md:grid-cols-2 gap-6">
                <div className="bg-destructive/5 border border-destructive/20 rounded-lg p-4">
                  <h4 className="font-semibold text-destructive mb-2">
                    Проблемы системного аналитика:
                  </h4>
                  <ul className="list-disc list-inside text-sm space-y-1">
                    {item.problems.map((problem, i) => (
                      <li key={i}>{problem}</li>
                    ))}
                  </ul>
                </div>
                <div className="bg-primary/5 border border-primary/20 rounded-lg p-4">
                  <h4 className="font-semibold text-primary mb-2">
                    Как помогает ИИ:
                  </h4>
                  <p className="text-sm">{item.aiSolution}</p>
                </div>
              </div>
            </AccordionContent>
          </AccordionItem>
        ))}
      </Accordion>
    </Section>
  );
};
